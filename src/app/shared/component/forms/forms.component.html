<form [formGroup]="form" class="container mt-3 row">
    <div class="text-center">
        <h2 class="mb-4">{{ title }}
            <i [class]="iconClass"></i>
        </h2>
    </div>
    <div *ngFor="let field of fields" [class]="gridClass">
        <ng-container [ngSwitch]="field.type">
            <div *ngSwitchCase="'input'" class="form-group">
                <label class="form-label">{{field.label}}</label>
                <input [type]="field.inputType" formControlName="{{field.name}}" class="form-control"
                    [class.is-invalid]="form.get(field.name)!.invalid && form.get(field.name)!.touched">
                <div *ngIf="form.get(field.name)!.invalid && form.get(field.name)!.touched" class="invalid-feedback">
                    {{field.label}} is required.
                </div>
            </div>
            <div *ngSwitchCase="'radio'" class="form-group " style="display: inline-block;">
                <label class="form-label">{{field.label}}</label>
                <div *ngFor="let option of field.options" class="form-check">
                    <input type="radio" [value]="option" formControlName="{{field.name}}" class="form-check-input"
                        [class.is-invalid]="form.get(field.name)!.invalid && form.get(field.name)!.touched">
                    <label class="form-check-label">{{option}}</label>
                </div>
                <div *ngIf="form.get(field.name)!.invalid && form.get(field.name)!.touched" class="invalid-feedback">
                    {{field.label}} is required.
                </div>
            </div>
            <div *ngSwitchCase="'checkbox'" class="form-group form-check">
                <input type="checkbox" formControlName="{{field.name}}" class="form-check-input"
                    [class.is-invalid]="form.get(field.name)!.invalid && form.get(field.name)!.touched">
                <label class="form-check-label">{{field.label}}</label>
            </div>
            <div *ngSwitchCase="'textarea'" class="form-group form-check">
                <textarea class="form-control" id="exampleTextarea" rows="5" formControlName="{{field.name}}"
                    [class.is-invalid]="form.get(field.name)!.invalid && form.get(field.name)!.touched"></textarea>
                <label class="form-check-label">{{field.label}}</label>
    
                <div *ngIf="form.get(field.name)!.invalid && form.get(field.name)!.touched" class="invalid-feedback">
                    {{field.label}} is required.
                </div>
            </div>

        </ng-container>
    </div>
</form>